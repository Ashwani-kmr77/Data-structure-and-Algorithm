class Solution {
public:

    void dfs(vector<vector<int>>&allpaths,vector<int>&path,int currentnode,vector<vector<int>>& graph){
        if(currentnode==graph.size()-1){
            allpaths.push_back(path);
            return;
        }
        for(int neighbour : graph[currentnode]){
            path.push_back(neighbour);// add 
            dfs(allpaths,path,neighbour,graph); // explore
            path.pop_back(); // backtrack
        }
    }


    vector<vector<int>> allPathsSourceTarget(vector<vector<int>>& graph) {
        vector<vector<int>>allpaths;
        vector<int>path;
        path.push_back(0);
        dfs(allpaths,path,0,graph);
        return allpaths;
    }
};
